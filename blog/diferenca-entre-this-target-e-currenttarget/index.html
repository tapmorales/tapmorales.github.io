<!DOCTYPE html>
<html lang="pt">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name='robots' content='index, follow'>

    <!--Description-->
    
        <meta name="description" content="Saiba quando usar um ou outro">
    

    <!--Author-->
    
        <meta name="author" content="Daniel Tapias Morales">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="diferenças entre this, target e currentTarget"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="Saiba quando usar um ou outro" />
    
    <meta property="og:url" content="https://serfrontend.com/blog/diferenca-entre-this-target-e-currenttarget/index.html"> 
    <!-- <meta property="og:image" content="http://serfrontend.com/imagens/capa.jpg">  -->
    <meta property="og:site_name" content="SerFrontend"> 
    <meta property="og:locale" content="pt_br"/> 

    <!--Open Graph Site Name-->
    <!--<meta property="og:site_name" content="Blog serFrontend"/>-->

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <link rel='canonical' href='https://serfrontend.com/blog/diferenca-entre-this-target-e-currenttarget/index.html'>
    <!--<script>
        console.log('env', [object Object]);
        console.log('path', blog/diferenca-entre-this-target-e-currenttarget/index.html);
    </script>-->


    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="https://twitter.com/tapmorales>" />
    
    <meta name="twitter:title" content="diferenças entre this, target e currentTarget">
    <meta name="twitter:description" content="Saiba quando usar um ou outro">

    <meta itemprop="name" content="diferenças entre this, target e currentTarget"/>
    <meta itemprop="description" content="Saiba quando usar um ou outro">


    <!-- Title -->
    
    <title>diferenças entre this, target e currentTarget</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <!-- <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" /> -->

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-73075491-3', 'auto');
        ga('send', 'pageview');

    </script>



    <!-- favicon -->
    
    <link rel="icon" href="favicon.ico">
    
	
</head>


<body>

    <!-- Menu -->
    <!-- Navigation -->
<header id="topo">
    <div class="container topo__container">
        
        <div class="topo__logo"><a href="/" title="Ser Frontend">
            <img class="topo__logo__img" src="/img/logo_ser-frontend.svg" alt="Ser Frontend"></a>
        </div>
        
        
        <nav class="topo__mainMenu">
            <ul>

                
                    <li>
                        <a href="/blog">
                            
                                Blog
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/cursos">
                            
                                Cursos
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/tags">
                            
                                Tags
                            
                        </a>
                    </li>
                
            
            </ul>

        </nav>
    </div>
</header>
<div id="navMob">
    <a href="#">
        <img src="/img/menu.svg" alt="">
    </a>
</div>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('/img/home-bg4.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>diferenças entre this, target e currentTarget</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        
                            12-03-2018
                        
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                
                
                    <div class="col-lg-10 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                        
                            


<a href="/tags/javascript/">#javascript</a>


                        
                    </div>
                
            

            <!-- Gallery -->
            
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>Nós sabemos que a palavra reservada <code>this</code> no Javascript pode representar <a href="https://serfrontend.com/blog/entender-todas-as-formas-do-this-em-javascript/" title="entender todas as formas do this em javascript">coisas diferentes devido a sua natureza dinâmica</a>. Por esse motivo, gostaria de detalhar melhor as diferenças entre o this e duas propriedades - <code>target</code> e <code>currentTarget</code> - do objeto event.</p>
<p>Para iniciarmos, o código abaixo não deve ser nenhuma novidade para voce.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(e.target);</span><br><span class="line">  <span class="built_in">console</span>.log(e.currentTarget);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Se você testar esse código e olhar no seu console, verá que qualquer um dos três representa o mesmo objeto, que neste caso, é o próprio botão clicado.</p>
<h2 id="Mas-entao-qual-a-diferenca-entre-eles-Vamos-la"><a href="#Mas-entao-qual-a-diferenca-entre-eles-Vamos-la" class="headerlink" title="Mas então qual a diferença entre eles? Vamos lá"></a>Mas então qual a diferença entre eles? Vamos lá</h2><p>O this é quase sempre o “dono do evento”, ou seja, o elemento o qual foi atrelado o método addEventListener. As duas situações onde isso não acontece é quando utilizanos em nosso código:</p>
<ul>
<li>o <code>bind()</code> para definir o escopo do <code>this</code> programaticamente; </li>
<li>abrimos mão do escopo dinâmico quando resolvermos adotar uma arrow function nos nossos ouvintes de evento;</li>
</ul>
<p>Veja os dois trechos de código a seguir:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(e.target);</span><br><span class="line">  <span class="built_in">console</span>.log(e.currentTarget);</span><br><span class="line">&#125;.bind(<span class="keyword">this</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">btn.addEventListener(<span class="string">'click'</span>, (e) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(e.target);</span><br><span class="line">  <span class="built_in">console</span>.log(e.currentTarget);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Nos dois trechos de código acima o <code>this</code> representa um elemento diferente daquele mostrado inicialmente neste artigo. No meu caso esse objeto diferemte é o global <code>window</code> (pois não estou usando a diretiva <code>&quot;use strict&quot;</code>). </p>
<p>De qualquer forma, as propriedades <code>target</code> e <code>currentTarget</code> ainda são o mesmo objeto. </p>
<p>Então porque existem duas propriedades que aparentemente são a mesma coisa? Para entender isso, precisamos olhar para o que chamamos de <strong>delegação de eventos</strong>.</p>
<h2 id="Utilizando-a-delegacao-de-eventos"><a href="#Utilizando-a-delegacao-de-eventos" class="headerlink" title="Utilizando a delegação de eventos"></a>Utilizando a delegação de eventos</h2><p>Imagine que voce tem uma tabela onde o usuário pode incluir ou remover uma ou várias linhas através da própria interface. Imagine também que em cada uma dessas linhas há um botão que pode ser clicado para executar uma ação qualquer.</p>
<p>Se essa tabela possui 50 linhas (portanto, 50 botões) e em cada botão há um ouvinte de evento, você terá 50 EventListeners, o que pode comprometer a performance de sua aplicação.</p>
<p>Quando isso acontece, uma abordagem melhor é atrelarmos o evento num elemento mais acima e então verificar quem foi o alvo da ação para decidir o que deve acontecer. Veja um exemplo:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">table.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>); <span class="comment">//esse é dono do evento pois removi o bind e estou usando a expressão de funcao</span></span><br><span class="line">  <span class="built_in">console</span>.log(e.target);</span><br><span class="line">  <span class="built_in">console</span>.log(e.currentTarget);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>No trecho de código acima, o <code>currentTarget</code> é sempre o “dono do evento”, independente do <code>bind()</code> ou das arrow functions. Já o <code>target</code> é o último elemento na hieraquia do DOM que recebeu o evento, ou seja, no exemplo acima, é o alvo do click.</p>
<p>Pensando ainda no exemplo de uma tabela, o <code>target</code> pode ser uma tag <code>tr</code>, <code>td</code> ou qualquer elemento dentro de uma <code>td</code>, como um <code>button</code>, por exemplo.</p>
<h2 id="Conclusao"><a href="#Conclusao" class="headerlink" title="Conclusão"></a>Conclusão</h2><p>Escrever um simples addEventListener adotando o bind() ou as arrow functions em conjunto com o conceito de delegação de eventos para melhorar a performace de sua aplicação resultará em referências distintas tanto para o <code>this</code> quanto para as propriedades <code>target</code> e <code>currentTarget</code> do objeto Event.</p>
<p>Essa foi uma dica bastante rápida mas que pode ser muito útil em algumas situações.</p>
<p>Aproveito para fazer o meu jabá e dizer que qualquer um dos <a href="/cursos">meus cursos de frontend</a> tem um descontão se você utilizar o cupom de desconto <a href="/cursos">PROMOSITE20</a>.</p>
<p>Um abraço</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    
    <hr />
    <h3>Comentários:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>



                </div>
            
        </div>
    </div>
</article>


    <!-- Footer -->
    <!-- Footer -->
<footer style="background: #ccc">
    <div class="container">
        <div class="row">
            <p class="copyright text-muted" style="margin: 0 0 15px;">
                    &copy; 2018 - Tema original (<a target="_blank" href="http://startbootstrap.com/template-overviews/clean-blog/">Clean Blog</a>) editado por Daniel Tapias Morales
                </p>
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center" style="font-size: 14px;">
                    
                        <li>
                            <a href="https://twitter.com/tapmorales" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                        <li>
                            <a href="https://github.com/tapmorales" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/daniel-tapias-morales-87145621/" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                </ul>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<!-- <script src="//code.jquery.com/jquery-2.1.4.min.js"></script> -->

<!-- Bootstrap -->
<!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>-->

<!-- Gallery -->
<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script> -->

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'serfrontend';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>